@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  --radius: 1.25rem; /* Increased for premium feel (20px) */

  /* Light Mode - "Arcane Modernity" (Light) */
  --background: oklch(0.98 0.01 260); /* Tinted White */
  --foreground: oklch(0.15 0.05 260); /* Dark Blue-Gray text */

  --card: oklch(1 0 0);
  --card-foreground: oklch(0.15 0.05 260);

  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.15 0.05 260);

  /* Primary: Arcane Cyan/Blue */
  --primary: oklch(0.65 0.22 250);
  --primary-foreground: oklch(0.98 0 0);

  /* Secondary: Arcane Magenta */
  --secondary: oklch(0.55 0.25 340);
  --secondary-foreground: oklch(0.98 0 0);

  --muted: oklch(0.96 0.02 260);
  --muted-foreground: oklch(0.55 0.05 260);

  --accent: oklch(0.96 0.02 260);
  --accent-foreground: oklch(0.15 0.05 260);

  --destructive: oklch(0.6 0.2 20);
  --destructive-foreground: oklch(0.98 0 0);

  --border: oklch(0.92 0.02 260);
  --input: oklch(0.92 0.02 260);
  --ring: oklch(0.65 0.22 250); /* Match Primary */

  /* Data Viz Colors */
  --chart-1: oklch(0.65 0.22 250); /* Cyan/Blue */
  --chart-2: oklch(0.55 0.25 340); /* Magenta */
  --chart-3: oklch(0.75 0.18 85); /* Orange/Gold (Shared) */
  --chart-4: oklch(0.6 0.2 20); /* Red */
  --chart-5: oklch(0.4 0.1 260); /* Dark Blue */

  --sidebar: oklch(0.98 0 0);
  --sidebar-foreground: oklch(0.15 0.05 260);
  --sidebar-primary: oklch(0.65 0.25 250);
  --sidebar-primary-foreground: oklch(0.98 0 0);
  --sidebar-accent: oklch(0.96 0.01 260);
  --sidebar-accent-foreground: oklch(0.15 0.05 260);
  --sidebar-border: oklch(0.92 0.02 260);
  --sidebar-ring: oklch(0.65 0.22 250);

  /* Gradient Variables - Light Mode */
  --card-gradient-start: var(--card);
  --card-gradient-end: oklch(0.96 0 0);

  --sidebar-gradient-start: var(--sidebar);
  --sidebar-gradient-end: oklch(0.95 0 0);
}

/* 
   Since we are going for a dark-first aesthetic, 
   we map the .dark class to the same variables or 
   ensure the root variables usually serve the dark theme 
   and light theme is the alternative (or disabled).
   
   For now, I will mirror the root to .dark to ensure consistency 
   regardless of system preference, as the user requested a specific vibe.
*/
.dark {
  /* Dark Mode - "Arcane Modernity" (Deep Abyssal) */
  --background: oklch(0.12 0.02 260);
  --foreground: oklch(0.98 0.01 260);

  --card: oklch(0.17 0.03 260);
  --card-foreground: oklch(0.98 0.01 260);

  --popover: oklch(0.12 0.02 260);
  --popover-foreground: oklch(0.98 0.01 260);

  /* Mantain the Electric Cyan primary for Dark mode as it fits "Arcane" better than Purple?
     Actually, let's switch to a vibrant purple/blue to match the "V Games" vibe 
     but in a dark context, OR keep the Cyan. 
     User asked for "Light/Dark mode using same things - we don't have a real light mode".
     Now we have a real light mode.
     Let's align Dark Mode Primary to be similar but glowing.
     Let's keep the Cyan/Blue as it looks great on dark, 
     but maybe shift slightly towards Purple to align with Light Mode?
     Let's stick to the previous defined Dark Mode colors as they were approved, 
     just ensuring variables are correct.
  */
  --primary: oklch(0.65 0.22 250); /* Mana Cyan/Blue */
  --primary-foreground: oklch(0.1 0.05 260);

  --secondary: oklch(0.55 0.25 340); /* Magenta/Purple */
  --secondary-foreground: oklch(0.98 0.01 260);

  --muted: oklch(0.25 0.05 260);
  --muted-foreground: oklch(0.7 0.05 260);

  --accent: oklch(0.25 0.05 260);
  --accent-foreground: oklch(0.98 0.01 260);

  --destructive: oklch(0.6 0.2 20);
  --destructive-foreground: oklch(0.98 0 0);

  --border: oklch(0.25 0.05 260);
  --input: oklch(0.25 0.05 260);
  --ring: oklch(0.65 0.22 250);

  --chart-1: oklch(0.65 0.22 250);
  --chart-2: oklch(0.55 0.25 340);
  --chart-3: oklch(0.75 0.18 85);
  --chart-4: oklch(0.7 0.18 145);
  --chart-5: oklch(0.6 0.2 20);

  --sidebar: oklch(0.12 0.02 260);
  --sidebar-foreground: oklch(0.98 0.01 260);
  --sidebar-primary: oklch(0.65 0.22 250);
  --sidebar-primary-foreground: oklch(0.98 0.01 260);
  --sidebar-accent: oklch(0.25 0.05 260);
  --sidebar-accent-foreground: oklch(0.98 0.01 260);
  --sidebar-border: oklch(0.25 0.05 260);
  --sidebar-ring: oklch(0.65 0.22 250);

  /* Gradient Variables - Dark Mode */
  --card-gradient-start: oklch(0.2 0.03 260);
  --card-gradient-end: oklch(0.15 0.02 260);

  --sidebar-gradient-start: oklch(0.14 0.02 260);
  --sidebar-gradient-end: oklch(0.1 0.02 260);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 12px);
  --radius-3xl: calc(var(--radius) + 24px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --font-sans: var(--font-inter);
  --font-heading: var(--font-outfit);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ============================================
   CUSTOM UTILITIES - Vibrancy & Glow Effects
   ============================================ */

@layer utilities {
  /* Glow Effects */
  .glow-primary {
    box-shadow:
      0 0 20px oklch(0.65 0.22 250 / 0.3),
      0 0 40px oklch(0.65 0.22 250 / 0.1);
  }

  .glow-primary-sm {
    box-shadow: 0 0 10px oklch(0.65 0.22 250 / 0.2);
  }

  .glow-secondary {
    box-shadow:
      0 0 20px oklch(0.55 0.25 340 / 0.3),
      0 0 40px oklch(0.55 0.25 340 / 0.1);
  }

  .glow-success {
    box-shadow: 0 0 15px oklch(0.7 0.2 145 / 0.4);
  }

  .glow-danger {
    box-shadow: 0 0 15px oklch(0.6 0.2 20 / 0.4);
  }

  /* Text Glow */
  .text-glow-primary {
    text-shadow: 0 0 10px oklch(0.65 0.22 250 / 0.5);
  }

  .text-glow-secondary {
    text-shadow: 0 0 10px oklch(0.55 0.25 340 / 0.5);
  }

  /* Sidebar Active Indicator */
  .nav-active-indicator {
    position: relative;
  }

  .nav-active-indicator::before {
    content: "";
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 60%;
    border-radius: 0 4px 4px 0;
    background: linear-gradient(180deg, var(--primary), var(--secondary));
    box-shadow: 0 0 8px var(--primary);
  }

  /* Gradient Backgrounds */
  .bg-gradient-primary {
    background: linear-gradient(
      135deg,
      oklch(0.65 0.22 250 / 0.1) 0%,
      oklch(0.55 0.25 340 / 0.05) 100%
    );
  }

  .bg-gradient-card {
    background: linear-gradient(
      180deg,
      var(--card-gradient-start) 0%,
      var(--card-gradient-end) 100%
    );
  }

  .bg-gradient-sidebar {
    background: linear-gradient(
      180deg,
      var(--sidebar-gradient-start) 0%,
      var(--sidebar-gradient-end) 100%
    );
  }

  /* Hover Effects */
  .hover-lift {
    transition:
      transform 0.2s ease,
      box-shadow 0.2s ease;
  }

  .hover-lift:hover {
    transform: translateY(-2px);
  }

  .hover-glow:hover {
    box-shadow: 0 0 20px oklch(0.65 0.22 250 / 0.2);
  }

  /* Pulse Animation for live data */
  .pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%,
    100% {
      box-shadow: 0 0 5px oklch(0.65 0.22 250 / 0.3);
    }
    50% {
      box-shadow: 0 0 20px oklch(0.65 0.22 250 / 0.5);
    }
  }

  /* Shimmer effect for loading/premium feel */
  .shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      var(--primary) 50%,
      transparent 100%
    );
    opacity: 0.1;
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Glass effect */
  .glass {
    background: var(
      --card
    ); /* Use card background with opacity via tailwind if needed, or define distinct variable */
    background-color: color-mix(in oklch, var(--card), transparent 20%);
    backdrop-filter: blur(10px);
    border: 1px solid var(--border);
  }

  /* Stat Card Variants */
  .stat-card-profit {
    background: linear-gradient(
      135deg,
      color-mix(in oklch, var(--chart-2), transparent 70%) 0%,
      var(--card) 100%
    );
    border-color: color-mix(in oklch, var(--chart-2), transparent 70%);
  }

  .stat-card-danger {
    background: linear-gradient(
      135deg,
      color-mix(in oklch, var(--destructive), transparent 70%) 0%,
      var(--card) 100%
    );
    border-color: color-mix(in oklch, var(--destructive), transparent 70%);
  }

  .stat-card-primary {
    background: linear-gradient(
      135deg,
      color-mix(in oklch, var(--primary), transparent 70%) 0%,
      var(--card) 100%
    );
    border-color: color-mix(in oklch, var(--primary), transparent 70%);
  }

  /* Soft Shadows */
  .shadow-soft {
    box-shadow: 0 10px 30px -10px oklch(0 0 0 / 0.1);
  }

  .shadow-soft-primary {
    box-shadow: 0 10px 30px -10px
      color-mix(in oklch, var(--primary), transparent 70%);
  }
}
